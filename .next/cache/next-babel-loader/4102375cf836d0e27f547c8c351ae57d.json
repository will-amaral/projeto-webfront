{"ast":null,"code":"var _jsxFileName = \"/home/will/Documents/School/projeto-ifsp/webfront/components/Login/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { Hero, HeroBody, Container, Title, Subtitle, Columns, Column, Image } from 'bloomer';\nimport Router from 'next/router';\nimport CustomNotification from '../CustomNotification';\nimport Form from './Form';\nimport api from '../../utils/api';\nimport { login } from '../../utils/auth';\nimport styles from '../styles';\nexport default function Login() {\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n  const {\n    0: color,\n    1: setColor\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  async function handleSubmit(event, email, password) {\n    event.preventDefault();\n\n    if (!email || !password) {\n      setMessage('Preencha todos os campos para continuar!');\n      setColor('danger');\n    } else {\n      setLoading(true);\n\n      try {\n        const {\n          data: {\n            token\n          }\n        } = await api.post('/login', {\n          email,\n          password\n        });\n        login(token);\n        Router.push('/');\n      } catch (err) {\n        console.log(err.response.data.message);\n        let alert;\n\n        if (!err.response) {\n          alert = 'Erro de servidor';\n        } else if (!err.response.data.message) {\n          alert = err.response.data.errors.map(error => error.msg + '\\n');\n        } else {\n          alert = err.response.data.message;\n        }\n\n        setMessage(alert);\n        setColor('danger');\n        setLoading(false);\n      }\n    }\n  }\n\n  ;\n  return __jsx(Columns, {\n    isVCentered: true,\n    isGapless: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(Column, {\n    isSize: {\n      mobile: \"full\",\n      desktop: \"1/4\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(Hero, {\n    isColor: \"primary\",\n    isFullHeight: true,\n    style: styles.gradient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(HeroBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(Container, {\n    hasTextAlign: \"centered\",\n    style: {\n      margin: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(Image, {\n    style: styles.logo,\n    src: \"/static/img/logo-white.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), __jsx(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Gym App\"), __jsx(Subtitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Fa\\xE7a o login para prosseguir\"), __jsx(CustomNotification, {\n    message: message,\n    color: color,\n    close: () => setMessage(''),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), __jsx(Form, {\n    loading: loading,\n    handleSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))))), __jsx(Column, {\n    isHidden: \"touch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(Hero, {\n    isFullHeight: true,\n    style: styles.background,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/will/Documents/School/projeto-ifsp/webfront/components/Login/index.js"],"names":["useState","Hero","HeroBody","Container","Title","Subtitle","Columns","Column","Image","Router","CustomNotification","Form","api","login","styles","Login","message","setMessage","color","setColor","loading","setLoading","handleSubmit","event","email","password","preventDefault","data","token","post","push","err","console","log","response","alert","errors","map","error","msg","mobile","desktop","gradient","margin","logo","background"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { Hero, HeroBody, Container, Title,\n    Subtitle, Columns, Column, Image\n} from 'bloomer';\nimport Router from 'next/router';\nimport CustomNotification from '../CustomNotification';\nimport Form from './Form';\nimport api from '../../utils/api';\nimport { login } from '../../utils/auth';\nimport styles from '../styles';\n\nexport default function Login() {\n    const [message, setMessage] = useState('');\n    const [color, setColor] = useState('');\n    const [loading, setLoading] = useState(false);\n\n\n    async function handleSubmit(event, email, password){\n        event.preventDefault();\n        if (!email || !password) {\n            setMessage('Preencha todos os campos para continuar!');\n            setColor('danger');\n        } else {\n            setLoading(true);\n            try {\n                const { data: { token } } = await api.post('/login', { email, password });\n                login(token);\n                Router.push('/');\n            } catch (err) {\n                console.log(err.response.data.message)\n                let alert;\n                if (!err.response) {\n                    alert = 'Erro de servidor';\n                } else if (!err.response.data.message) {\n                    alert = err.response.data.errors.map(error => error.msg + '\\n');\n                } else {\n                    alert = err.response.data.message;\n                }\n                setMessage(alert)\n                setColor('danger');\n                setLoading(false);\n            }\n        }\n    };\n\n    return (\n        <Columns isVCentered isGapless>\n            <Column isSize={{mobile: \"full\", desktop: \"1/4\" }}>\n                <Hero isColor='primary' isFullHeight style={styles.gradient}>\n                    <HeroBody>\n                        <Container hasTextAlign=\"centered\" style={{ margin: 20}}>\n                            <Image style={styles.logo} src='/static/img/logo-white.png' />\n                            <Title>Gym App</Title>\n                            <Subtitle>Fa√ßa o login para prosseguir</Subtitle>\n                            <CustomNotification\n                                message={message}\n                                color={color}\n                                close={()=> setMessage('')}\n                            />\n                            <Form loading={loading} handleSubmit={handleSubmit} />\n                        </Container>\n                    </HeroBody>\n                </Hero>\n            </Column> \n            <Column isHidden=\"touch\">\n                <Hero isFullHeight style={styles.background} />\n            </Column>               \n        </Columns>\n    );\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}