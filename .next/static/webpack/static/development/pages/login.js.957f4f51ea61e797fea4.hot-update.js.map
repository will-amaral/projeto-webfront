{"version":3,"file":"static/webpack/static/development/pages/login.js.957f4f51ea61e797fea4.hot-update.js","sources":["webpack:///./components/Login/index.js"],"sourcesContent":["import { useState } from 'react';\nimport { Hero, HeroBody, Container, Title,\n    Subtitle, Columns, Column, Image\n} from 'bloomer';\nimport Router from 'next/router';\nimport CustomNotification from '../CustomNotification';\nimport Form from './Form';\nimport api from '../../utils/api';\nimport { login } from '../../utils/auth';\nimport styles from '../styles';\n\nexport default function Login() {\n    const [message, setMessage] = useState('');\n    const [color, setColor] = useState('');\n    const [loading, setLoading] = useState(false);\n\n\n    async function handleSubmit(event, email, password){\n        event.preventDefault();\n        if (!email || !password) {\n            setMessage('Preencha todos os campos para continuar!');\n            setColor('danger');\n        } else {\n            setLoading(true);\n            try {\n                const { data: { token } } = await api.post('/login', { email, password });\n                login(token);\n                Router.push('/');\n            } catch (err) {\n                console.log(err.response.data.message)\n                let alert;\n                if (!err.response) {\n                    alert = 'Erro de servidor';\n                } else if (!err.response.data.message) {\n                    alert = 'Senha incorreta'\n                } else {\n                    alert = err.response.data.message;\n                }\n                setMessage(alert)\n                setColor('danger');\n                setLoading(false);\n            }\n        }\n    };\n\n    return (\n        <Columns isVCentered isGapless>\n            <Column isSize={{mobile: \"full\", desktop: \"1/4\" }}>\n                <Hero isColor='primary' isFullHeight style={styles.gradient}>\n                    <HeroBody>\n                        <Container hasTextAlign=\"centered\" style={{ margin: 20}}>\n                            <Image style={styles.logo} src='/static/img/logo-white.png' />\n                            <Title>Gym App</Title>\n                            <Subtitle>Fa√ßa o login para prosseguir</Subtitle>\n                            <CustomNotification\n                                message={message}\n                                color={color}\n                                close={()=> setMessage('')}\n                            />\n                            <Form loading={loading} handleSubmit={handleSubmit} />\n                        </Container>\n                    </HeroBody>\n                </Hero>\n            </Column> \n            <Column isHidden=\"touch\">\n                <Hero isFullHeight style={styles.background} />\n            </Column>               \n        </Columns>\n    );\n}\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAMA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAJA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AATA;AAAA;AAQA;AACA;AACA;AAVA;AAAA;AACA;AADA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AACA;AA+BA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}